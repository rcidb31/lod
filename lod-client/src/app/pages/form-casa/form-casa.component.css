/* ==========================================================================
   VARIABLES GLOBALES
   ========================================================================== */

:root {
  /* Colores de papel y tinta */
  --paper: #fffdf8;          /* Color de fondo del papel */
  --rule: #1f2937;           /* Color de las líneas horizontales */
  --margin-line: #dc3545;    /* Color de la línea del margen izquierdo */
  --ink: #111827;            /* Color del texto principal */
  --muted: #6b7280;          /* Color del texto secundario */
  
  /* Colores de marca */
  --brand: #4f46e5;          /* Color principal de botones */
  
  /* Efectos */
  --shadow: 0 12px 28px rgba(0,0,0,.16);  /* Sombra principal */
}

/* ==========================================================================
   FORMULARIO DE ENTRADA
   ========================================================================== */

/* Contenedor principal del formulario */
.form {
  display: grid;
  gap: 1rem;
  padding: 1rem;
  max-width: 900px;
  margin-inline: auto;
  
  /* Efecto glassmorphism */
  background: rgba(255,255,255,.55);
  backdrop-filter: saturate(160%) blur(4px);
  
  /* Bordes y sombras */
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 14px;
  box-shadow: var(--shadow);
}

/* Título del formulario */
.form h2 {
  margin: 0;
  font-size: 1.4rem;
  letter-spacing: .2px;
  color: var(--ink);  /* Forzar color para modo oscuro */
}

/* Labels del formulario */
.form label {
  display: grid;
  gap: .35rem;
  font-size: .92rem;
  color: var(--ink);  /* Forzar color para modo oscuro */
}

/* Inputs y textarea - base */
.form input,
.form textarea {
  padding: .6rem .75rem;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  background: #fff;
  color: var(--ink);
  font: inherit;
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease;
}

/* Estados focus de inputs */
.form input:focus,
.form textarea:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 4px rgba(79,70,229,.1);
}

/* Layout de fila para inputs en línea */
.form .row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1rem;
}

/* Textarea específico */
.form textarea {
  min-height: 110px;
  resize: vertical;
}

/* ==========================================================================
   BOTÓN DE GENERAR PDF
   ========================================================================== */

/* Botón principal - estado normal */
.form button[type="submit"] {
  display: inline-block;
  justify-self: start;
  padding: .8rem 1.2rem;
  border: none;
  border-radius: 12px;
  
  /* Colores forzados para evitar interferencias */
  background-color: #4f46e5 !important;
  background-image: none !important;
  color: #fff !important;
  opacity: 1 !important;
  filter: none !important;
  
  /* Tipografía y cursor */
  font-weight: 700;
  font: inherit;
  cursor: pointer;
  
  /* Efectos */
  box-shadow: 0 8px 18px rgba(79,70,229,.28);
  transition: transform .06s ease, box-shadow .15s ease;
  
  /* Z-index para evitar superposiciones */
  position: relative;
  z-index: 5;
}

/* Botón - estado hover */
.form button[type="submit"]:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(79,70,229,.36);
}

/* Botón - estado activo */
.form button[type="submit"]:active {
  transform: translateY(0);
}

/* Botón - estado focus */
.form button[type="submit"]:focus-visible {
  outline: 3px solid rgba(79,70,229,.35);
  outline-offset: 2px;
}

/* Botón - estado deshabilitado */
.form button[type="submit"][disabled] {
  background-color: #b9c0ff !important;
  color: #fff !important;
  box-shadow: none;
  cursor: not-allowed;
  opacity: 1 !important;
}

/* ==========================================================================
   DOCUMENTO ACTA (PAPEL RAYADO)
   ========================================================================== */

/* Contenedor principal del acta - simula hoja A4 */
.acta-a4 {
  position: relative;
  margin: 1.5rem auto 2.5rem;
  width: min(100%, 900px);
  aspect-ratio: 1 / 1.414;  /* Proporción A4 real */
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  
  /* Color base del papel */
  background-color: var(--paper);
  color: var(--ink);
  
  /* Efectos de papel envejecido */
  background-image:
    /* Manchas sutiles en esquinas */
    radial-gradient(1200px 600px at -10% -10%, rgba(90,66,0,.06), transparent 60%),
    radial-gradient(900px 500px at 110% 0%, rgba(90,66,0,.05), transparent 55%),
    radial-gradient(700px 500px at 20% 110%, rgba(0,0,0,.04), transparent 60%),
    /* Viñeteado de bordes gastados */
    radial-gradient(120% 120% at 50% 50%, transparent 65%, rgba(0,0,0,.06) 100%),
    /* Gradiente de papel envejecido */
    linear-gradient(180deg, #fcf7e8 0%, #f7f0da 45%, #f3ead0 100%);
  
  /* Sombras y bordes */
  box-shadow: var(--shadow);
  border: 1px solid rgba(0,0,0,.06);
  
  /* Modo de mezcla para efectos */
  background-blend-mode: multiply, multiply, multiply, normal, normal;
}

/* Líneas horizontales del cuaderno */
.acta-a4::after {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0 26px,           /* Espacio entre líneas */
    var(--rule) 26px 27px         /* Grosor de línea */
  );
  pointer-events: none;
  opacity: .25;                   /* Suavizar para que no moleste al leer */
  z-index: 1;
}

/* Línea del margen izquierdo (como cuaderno escolar) */
.acta-a4::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 58px;                     /* Distancia desde el borde */
  width: 2px;
  background: var(--margin-line);
  box-shadow: 0 0 0 6px rgba(220,53,69,.06);  /* Resplandor sutil */
  z-index: 2;
}

/* ==========================================================================
   CONTENIDO DEL ACTA
   ========================================================================== */

/* Contenedores que respetan el margen del cuaderno */
.acta-header,
.acta-body,
.firmas {
  position: relative;             /* Para estar sobre el rayado */
  padding-left: 82px;             /* Más que el margen izquierdo */
  padding-right: 28px;
  z-index: 3;
}

/* Encabezado del acta */
.acta-header {
  padding-block: 18px 12px;
  background: linear-gradient(180deg, rgba(0,0,0,.03), transparent);
  border-bottom: 1px solid rgba(0,0,0,.06);
}

/* Título del acta */
.acta-header h1 {
  margin: 10px 0 2px;
  font-size: clamp(1.35rem, 2vw, 1.65rem);
  letter-spacing: .2px;
  color: var(--ink);              /* Forzar color para modo oscuro */
}

/* Metadatos del acta (fecha, obra, etc.) */
.acta-header .meta {
  font-size: .92rem;
  color: var(--muted);
}

/* Cuerpo principal del acta */
.acta-body {
  padding-top: 18px;
  padding-bottom: 12px;
  display: grid;
  gap: .35rem;
  font-size: 1rem;
  line-height: 1.5;
}

/* Párrafos dentro del cuerpo */
.acta-body p {
  margin: 0;
  padding: .3rem 0;
  color: var(--ink);              /* Forzar color para modo oscuro */
}

/* Caja de observaciones/comentarios */
.box {
  margin-top: .25rem;
  height: 160px;
  padding: .6rem .75rem;
  background: transparent;        /* Mostrar el rayado del fondo */
  border: 1px dashed rgba(0,0,0,.25);
  border-radius: 10px;
  color: var(--ink);              /* Forzar color para modo oscuro */
}

/* ==========================================================================
   SECCIÓN DE FIRMAS
   ========================================================================== */

/* Contenedor de firmas */
.firmas {
  margin-top: auto;               /* Empujar hacia abajo */
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  padding-block: 20px 32px;
  background: rgba(0,0,0,.04);
  border-top: 1px solid rgba(0,0,0,.06);
}

/* Cada firma individual */
.firma {
  display: grid;
  place-items: center;
  gap: .5rem;
  text-align: center;
}

/* Línea para firmar */
.firma .line {
  width: 80%;
  height: 1px;
  background: var(--rule);
  margin-top: 32px;
}

/* Texto de las firmas */
.firma span {
  font-size: .95rem;
  color: var(--muted);
}

/* ==========================================================================
   DISEÑO RESPONSIVO
   ========================================================================== */

/* Tablets y móviles */
@media (max-width: 700px) {
  /* Formulario: una columna */
  .form .row {
    grid-template-columns: 1fr;
  }
  
  /* Acta: sin bordes redondeados, márgenes ajustados */
  .acta-a4 {
    width: 100%;
    border-radius: 0;
  }
  
  .acta-header,
  .acta-body,
  .firmas {
    padding-left: 70px;
    padding-right: 16px;
  }
  
  /* Caja de comentarios más pequeña */
  .box {
    height: 130px;
  }
}

/* ==========================================================================
   MODO IMPRESIÓN
   ========================================================================== */

@media print {
  /* Ocultar formulario al imprimir */
  .form {
    display: none !important;
  }
  
  /* Acta: ocupar toda la página */
  .acta-a4 {
    box-shadow: none;
    border: none;
    margin: 0;
    width: auto;
    aspect-ratio: auto;
  }
  
  /* Líneas más visibles al imprimir */
  .acta-a4::after {
    opacity: .35;
  }
}

/* ==========================================================================
   FIXES PARA MODO OSCURO
   ========================================================================== */

/* ===== Variables base del sitio (pueden cambiar con dark) ===== */
:root{
  --bg-page: #0f172a;
}
.dark{
  --bg-page: #0b1220;
}

/* ===== FORM: mantener texto oscuro e inputs blancos SIEMPRE ===== */
.form{
  --form-ink: #2b2b2b;     /* textos y labels */
  --field-bg: #ffffff;     /* fondo de inputs/textarea */
  --field-text: #2b2b2b;   /* texto dentro de inputs */
}

/* en dark NO cambiamos esas variables (se “congelan”) */
.dark .form{
  --form-ink: #2b2b2b;
  --field-bg: #ffffff;
  --field-text: #2b2b2b;
}

/* aplicar variables del form */
.form h2,
.form label { color: var(--form-ink); }

.form input,
.form textarea{
  background: var(--field-bg);
  color: var(--field-text);
  border: 1px solid rgba(0,0,0,.15);
}

/* === ACTA: papel claro y tinta negra SIEMPRE === */
.acta, .acta-a4 {
  --paper: #f7f2e3;
  --ink:   #222222;
  background: var(--paper);
  color: var(--ink);
}

/* Fuerza todos los textos del acta */
.acta *, .acta-a4 * {
  color: var(--ink) !important;
  -webkit-text-fill-color: var(--ink) !important; /* Safari */
}

/* Congelado también en dark */
.dark .acta, .dark .acta-a4 {
  --paper: #f7f2e3;
  --ink:   #222222;
}

/* (Opcional) asegura que decoraciones queden detrás del texto */
.acta::before, .acta::after,
.acta-a4::before, .acta-a4::after {
  z-index: -1;
  pointer-events: none;
  mix-blend-mode: normal;
  opacity: 1;
}


